(function($,window){var toFloat=function(val){return parseFloat(val)||0};var arraySlice=Array.prototype.slice;var jCarousel={};jCarousel.version="@VERSION";var rRelativeTarget=/^([+\-]=)?(.+)$/;jCarousel.parseTarget=function(target){var relative=false,parts=typeof target!=="object"?rRelativeTarget.exec(target):null;if(parts){target=parseInt(parts[2],10)||0;if(parts[1]){relative=true;if(parts[1]==="-="){target*=-1}}}else if(typeof target!=="object"){target=parseInt(target,10)||0}return{target:target,relative:relative}};jCarousel.detectCarousel=function(element){var carousel=element.data("jcarousel"),find=function(element){var carousel;element.find(".jcarousel").each(function(){carousel=$(this).data("jcarousel");if(carousel){return false}});return carousel};if(!carousel){while(element.size()>0){carousel=find(element);if(carousel){break}element=element.parent()}}return carousel};jCarousel.Plugin={version:jCarousel.version,options:{},pluginName:null,pluginClass:null,pluginFn:null,_element:null,_carousel:null,_options:$.noop,_init:$.noop,_destroy:$.noop,_create:function(){this.carousel()._bind("destroy."+this.pluginName,$.proxy(this.destroy,this))},destroy:function(){this._destroy();this.carousel()._unbind("."+this.pluginName).element().unbind("."+this.pluginName);this.element().unbind("."+this.pluginName).removeData(this.pluginName);return this},element:function(){return this._element},option:function(key,value){if(arguments.length===0){return $.extend({},this.options)}if(typeof key==="string"){if(typeof value==="undefined"){return typeof this.options[key]==="undefined"?null:this.options[key]}this.options[key]=value}else{if($.isFunction(key)){key=key.call(this)}this.options=$.extend({},this.options,key)}return this},carousel:function(){if(!!this.options.carousel){return this.options.carousel.jquery?this.options.carousel.data("jcarousel"):this.options.carousel}if(!this._carousel){this._carousel=jCarousel.detectCarousel(this.element());if(!this._carousel){$.error('Could not detect carousel for plugin "'+this.pluginName+'"')}}return this._carousel},_bind:function(event,handler,element){(element||this.element()).bind(this.pluginName+event,handler);return this},_unbind:function(event,handler,element){(element||this.element()).unbind(this.pluginName+event,handler);return this},_trigger:function(type,element,data){var event=$.Event((this.pluginName+type).toLowerCase());data=[this].concat(data||[]);(element||this.element()).trigger(event,data);return!($.isFunction(event.isDefaultPrevented)?event.isDefaultPrevented():event.defaultPrevented)}};var plugins={};jCarousel.plugin=function(name,callback){if(typeof callback==="undefined"){if(typeof plugins[name]==="undefined"){return $.error('No such plugin "'+name+'" registered')}return plugins[name].call(jCarousel,$)}plugins[name]=callback;var pluginName,pluginClass,pluginFn;if(name!=="jcarousel"){pluginName="jcarousel"+name.toLowerCase();pluginClass="jcarousel-"+name.toLowerCase();pluginFn="jcarousel"+name.charAt(0).toUpperCase()+name.slice(1)}else{pluginName=pluginClass=pluginFn=name}var plugin=function(element,options){if(!this._init){return new plugin(element,options)}this._element=$(element).data(pluginName,this).addClass(pluginClass);this.options=$.extend({},this.options,this._options(),options);this._create();this._init()};plugin.prototype=$.extend({},jCarousel.Plugin,{pluginName:pluginName,pluginClass:pluginClass,pluginFn:pluginFn},callback.call(jCarousel,$));$.fn[pluginFn]=function(options){var args=arraySlice.call(arguments,1),returnValue=this;if(typeof options==="string"){this.each(function(){var instance=$(this).data(pluginName);if(!instance){return $.error("Cannot call methods on "+pluginFn+" prior to initialization; "+'attempted to call method "'+options+'"')}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error('No such method "'+options+'" for '+pluginFn+" instance")}var methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&typeof methodValue!=="undefined"){returnValue=methodValue;return false}})}else{this.each(function(){var instance=$(this).data(pluginName);if(instance){if(options){instance.option(options)}}else{plugin(this,options)}})}return returnValue};return plugin};var _jCarousel=window.jCarousel;jCarousel.noConflict=function(){window.jCarousel=_jCarousel;return jCarousel};window.jCarousel=jCarousel;jCarousel.plugin("jcarousel",function($){var jCarousel=this;return{options:{list:"ul",items:"li",animation:400,wrap:null,vertical:null,rtl:null,center:false},animating:false,tail:0,inTail:false,resizeTimer:null,lt:null,vertical:false,rtl:false,circular:false,_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_create:function(){},_init:function(){if(false===this._trigger("init")){return this}this._reload();var self=this;this.onWindowResize=function(){if(self.resizeTimer){clearTimeout(self.resizeTimer)}self.resizeTimer=setTimeout(function(){self.reload()},100)};$(window).bind("resize.jcarousel",this.onWindowResize);this.onAnimationComplete=function(callback){self.animating=false;var c=self.list().find(".jcarousel-clone");if(c.size()>0){c.remove();self._reload()}self._trigger("animateEnd");if($.isFunction(callback)){callback.call(self,true)}};this._trigger("initEnd");return this},destroy:function(){if(false===this._trigger("destroy")){return this}this.element().unbind("."+this.pluginName).removeData(this.pluginName);this.items().unbind(".jcarousel");$(window).unbind("resize.jcarousel",this.onWindowResize);this._trigger("destroyend");return this},reload:function(){if(false===this._trigger("reload")){return this}this._reload();this._trigger("reloadEnd");return this},list:function(){if(this._list===null){var option=this.option("list");this._list=$.isFunction(option)?option.call(this):this.element().find(option)}return this._list},items:function(){if(this._items===null){var option=this.option("items");this._items=($.isFunction(option)?option.call(this):this.list().find(option)).not(".jcarousel-clone")}return this._items},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(false===this._trigger("hasnext")){return true}var wrap=this.option("wrap"),end=this.items().size()-1;return end>=0&&(wrap&&wrap!=="first"||this._last.index()<end||this.tail&&!this.inTail)?true:false},hasPrev:function(){if(false===this._trigger("hasprev")){return true}var wrap=this.option("wrap");return this.items().size()>0&&(wrap&&wrap!=="last"||this._first.index()>0||this.tail&&this.inTail)?true:false},scroll:function(target,animate,callback){if(this.animating){return this}if(false===this._trigger("scroll",null,[target,animate])){return this}if($.isFunction(animate)){callback=animate;animate=true}var parsed=jCarousel.parseTarget(target);if(parsed.relative){var end=this.items().size()-1,scroll=Math.abs(parsed.target),first,index,curr,i;if(parsed.target>0){var last=this._last.index();if(last>=end&&this.tail){if(!this.inTail){this._scrollTail(animate,callback)}else{if(this.options.wrap=="both"||this.options.wrap=="last"){this._scroll(0,animate,callback)}else{this._scroll(Math.min(this._target.index()+scroll,end),animate,callback)}}}else{if(last===end&&(this.options.wrap=="both"||this.options.wrap=="last")){this._scroll(0,animate,callback)}else{first=this._target.index();index=first+scroll;if(this.circular&&index>end){i=end;curr=this.items().get(-1);while(i++<index){curr=this.items().eq(0);curr.after(curr.clone(true).addClass("jcarousel-clone"));this.list().append(curr);this._items=null}this._scroll(curr,animate,callback)}else{this._scroll(Math.min(index,end),animate,callback)}}}}else{if(this.inTail){this._scroll(Math.max(this._first.index()-scroll+1,0),animate,callback)}else{first=this._first.index();index=first-scroll;if(first===0&&(this.options.wrap=="both"||this.options.wrap=="first")){this._scroll(end,animate,callback)}else{if(this.circular&&index<0){i=index;curr=this.items().get(0);while(i++<0){curr=this.items().eq(-1);curr.after(curr.clone(true).addClass("jcarousel-clone"));this.list().prepend(curr);this._items=null;var lt=toFloat(this.list().css(this.lt)),dim=this._dimension(curr);this.rtl?lt+=dim:lt-=dim;this.list().css(this.lt,lt+"px")}this._scroll(curr,animate,callback)}else{this._scroll(Math.max(first-scroll,0),animate,callback)}}}}}else{this._scroll(parsed.target,animate,callback)}this._trigger("scrollend");return this},_reload:function(){var element=this.element(),checkRTL=function(){if((""+element.attr("dir")).toLowerCase()==="rtl"){return true}var found=false;element.parents("[dir]").each(function(){if(/rtl/i.test($(this).attr("dir"))){found=true;return false}});return found};this.vertical=this.options.vertical==null?(""+element.attr("class")).toLowerCase().indexOf("jcarousel-vertical")>-1:this.options.vertical;this.rtl=this.options.rtl==null?checkRTL():this.options.rtl;this.lt=this.vertical?"top":"left";this._items=null;var item=this._target||this.items().eq(0);this.circular=this.options.wrap=="circular";this.list().css({left:0,top:0});if(item.size()>0){this._prepare(item);this.list().find(".jcarousel-clone").remove();this._items=null;this.circular=this.options.wrap=="circular"&&this._fullyvisible.size()<this.items().size();this.list().css(this.lt,this._position(item)+"px")}return this},_scroll:function(item,animate,callback){if(this.animating){return this}if(typeof item!=="object"){item=this.items().eq(item)}else if(typeof item.jquery==="undefined"){item=$(item)}if(item.size()===0){if($.isFunction(callback)){callback.call(this,false)}return this}this.inTail=false;this._prepare(item);var pos=this._position(item),currPos=toFloat(this.list().css(this.lt));if(pos===currPos){if($.isFunction(callback)){callback.call(this,false)}return this}var properties={};properties[this.lt]=pos+"px";this._animate(properties,animate,callback);return this},_scrollTail:function(animate,callback){if(this.animating||!this.tail){return this}var pos=this.list().position()[this.lt];this.rtl?pos+=this.tail:pos-=this.tail;this.inTail=true;var properties={};properties[this.lt]=pos+"px";this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())});this._animate(properties,animate,callback);return this},_animate:function(properties,animate,callback){if(this.animating){return this}if(false===this._trigger("animate")){return this}this.animating=true;if(!this.options.animation||animate===false){this.list().css(properties);this.onAnimationComplete(callback)}else{var self=this;if($.isFunction(this.options.animation)){this.options.animation.call(this,properties,function(){self.onAnimationComplete(callback)})}else{var opts=typeof this.options.animation==="object"?this.options.animation:{duration:this.options.animation},oldComplete=opts.complete;opts.complete=function(){self.onAnimationComplete(callback);if($.isFunction(oldComplete)){oldComplete.call(this)}};this.list().animate(properties,opts)}}return this},_prepare:function(item){var index=item.index(),idx=index,wh=this._dimension(item),clip=this._clipping(),update={target:item,first:item,last:item,visible:item,fullyvisible:wh<=clip?item:$()},lrb=this.vertical?"bottom":this.rtl?"left":"right",curr,margin;if(this.options.center){wh/=2;clip/=2}if(wh<clip){while(true){curr=this.items().eq(++idx);if(curr.size()===0){if(this.circular){curr=this.items().eq(0);if(item.get(0)===curr.get(0)){break}curr.after(curr.clone(true).addClass("jcarousel-clone"));this.list().append(curr);this._items=null}else{break}}wh+=this._dimension(curr);update.last=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css("margin-"+lrb));if(wh-margin<=clip){update.fullyvisible=update.fullyvisible.add(curr)}if(wh>=clip){break}}}if(!this.circular&&wh<clip){idx=index;while(true){if(--idx<0){break}curr=this.items().eq(idx);if(curr.size()===0){break}wh+=this._dimension(curr);update.first=curr;update.visible=update.visible.add(curr);margin=toFloat(curr.css("margin-"+lrb));if(wh-margin<=clip){update.fullyvisible=update.fullyvisible.add(curr)}if(wh>=clip){break}}}this._update(update);this.tail=0;if(this.options.wrap!=="circular"&&this.options.wrap!=="custom"&&update.last.index()===this.items().size()-1){wh-=toFloat(update.last.css("margin-"+lrb));if(wh>clip){this.tail=wh-clip}}return this},_position:function(item){var first=this._first,pos=first.position()[this.lt];if(this.rtl&&!this.vertical){pos-=this._clipping()-this._dimension(first)}if(this.options.center){pos-=this._clipping()/2-this._dimension(first)/2}if((item.index()>first.index()||this.inTail)&&this.tail){pos=this.rtl?pos-this.tail:pos+this.tail;this.inTail=true}else{this.inTail=false}return-pos},_update:function(update){var self=this,current={target:this._target||$(),first:this._first||$(),last:this._last||$(),visible:this._visible||$(),fullyvisible:this._fullyvisible||$()},back=(update.first||current.first).index()<current.first.index(),key,doUpdate=function(key){var elIn=[],elOut=[];update[key].each(function(){if(current[key].index(this)<0){elIn.push(this)}});current[key].each(function(){if(update[key].index(this)<0){elOut.push(this)}});if(back){elIn=elIn.reverse()}else{elOut=elOut.reverse()}self._trigger("item"+key+"in",$(elIn));self._trigger("item"+key+"out",$(elOut));current[key].removeClass("jcarousel-item-"+key);update[key].addClass("jcarousel-item-"+key);self["_"+key]=update[key]};for(key in update){doUpdate(key)}return this},_clipping:function(){return this.element()["inner"+(this.vertical?"Height":"Width")]()},_dimension:function(element){return element["outer"+(this.vertical?"Height":"Width")](true)}}})})(jQuery,window);(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){factory(require("jquery"))}else{factory(jQuery)}})(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{s=decodeURIComponent(s.replace(pluses," "));return config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var config=$.cookie=function(key,value,options){if(value!==undefined&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date;t.setTime(+t+days*864e5)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}var result=key?undefined:{};var cookies=document.cookie?document.cookie.split("; "):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("=");var name=decode(parts.shift());var cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie}}return result};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)===undefined){return false}$.cookie(key,"",$.extend({},options,{expires:-1}));return!$.cookie(key)}});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}})(function($){var d=[],doc=$(document),ie6=$.browser.msie&&parseInt($.browser.version)===6&&typeof window["XMLHttpRequest"]!=="object",ie7=$.browser.msie&&parseInt($.browser.version)===7,ieQuirks=null,wndw=$(window),w=[];$.modal=function(data,options){return $.modal.impl.init(data,options)};$.modal.close=function(){$.modal.impl.close()};$.modal.focus=function(pos){$.modal.impl.focus(pos)};$.modal.setContainerDimensions=function(){$.modal.impl.setContainerDimensions()};$.modal.setPosition=function(){$.modal.impl.setPosition()};$.modal.update=function(height,width){$.modal.impl.update(height,width)};$.fn.modal=function(options){return $.modal.impl.init(this,options)};$.modal.defaults={appendTo:"body",focus:true,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:false,autoPosition:true,zIndex:1e3,close:true,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:true,overlayClose:false,fixed:true,position:null,persist:false,modal:true,onOpen:null,onShow:null,onClose:null};$.modal.impl={d:{},init:function(data,options){var s=this;if(s.d.data){return false}ieQuirks=$.browser.msie&&!$.boxModel;s.o=$.extend({},$.modal.defaults,options);s.zIndex=s.o.zIndex;s.occb=false;if(typeof data==="object"){data=data instanceof jQuery?data:$(data);s.d.placeholder=false;if(data.parent().parent().size()>0){data.before($("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"}));s.d.placeholder=true;s.display=data.css("display");if(!s.o.persist){s.d.orig=data.clone(true)}}}else if(typeof data==="string"||typeof data==="number"){data=$("<div></div>").html(data)}else{alert("SimpleModal Error: Unsupported data type: "+typeof data);return s}s.create(data);data=null;s.open();if($.isFunction(s.o.onShow)){s.o.onShow.apply(s,[s.d])}return s},create:function(data){var s=this;s.getDimensions();if(s.o.modal&&ie6){s.d.iframe=$('<iframe src="javascript:false;"></iframe>').css($.extend(s.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:w[0],width:w[1],zIndex:s.o.zIndex,top:0,left:0})).appendTo(s.o.appendTo)}s.d.overlay=$("<div></div>").attr("id",s.o.overlayId).addClass("simplemodal-overlay").css($.extend(s.o.overlayCss,{display:"none",opacity:s.o.opacity/100,height:s.o.modal?d[0]:0,width:s.o.modal?d[1]:0,position:"fixed",left:0,top:0,zIndex:s.o.zIndex+1})).appendTo(s.o.appendTo);s.d.container=$("<div></div>").attr("id",s.o.containerId).addClass("simplemodal-container").css($.extend({position:s.o.fixed?"fixed":"absolute"},s.o.containerCss,{display:"none",zIndex:s.o.zIndex+2})).append(s.o.close&&s.o.closeHTML?$(s.o.closeHTML).addClass(s.o.closeClass):"").appendTo(s.o.appendTo);s.d.wrap=$("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(s.d.container);s.d.data=data.attr("id",data.attr("id")||s.o.dataId).addClass("simplemodal-data").css($.extend(s.o.dataCss,{display:"none"})).appendTo("body");data=null;s.setContainerDimensions();s.d.data.appendTo(s.d.wrap);if(ie6||ieQuirks){s.fixIE()}},bindEvents:function(){var s=this;$("."+s.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault();s.close()});if(s.o.modal&&s.o.close&&s.o.overlayClose){s.d.overlay.bind("click.simplemodal",function(e){e.preventDefault();s.close()})}doc.bind("keydown.simplemodal",function(e){if(s.o.modal&&e.keyCode===9){s.watchTab(e)}else if(s.o.close&&s.o.escClose&&e.keyCode===27){e.preventDefault();s.close()}});wndw.bind("resize.simplemodal orientationchange.simplemodal",function(){s.getDimensions();s.o.autoResize?s.setContainerDimensions():s.o.autoPosition&&s.setPosition();if(ie6||ieQuirks){s.fixIE()}else if(s.o.modal){s.d.iframe&&s.d.iframe.css({height:w[0],width:w[1]});s.d.overlay.css({height:d[0],width:d[1]})}})},unbindEvents:function(){$("."+this.o.closeClass).unbind("click.simplemodal");doc.unbind("keydown.simplemodal");wndw.unbind(".simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var s=this,p=s.o.position;$.each([s.d.iframe||null,!s.o.modal?null:s.d.overlay,s.d.container.css("position")==="fixed"?s.d.container:null],function(i,el){if(el){var bch="document.body.clientHeight",bcw="document.body.clientWidth",bsh="document.body.scrollHeight",bsl="document.body.scrollLeft",bst="document.body.scrollTop",bsw="document.body.scrollWidth",ch="document.documentElement.clientHeight",cw="document.documentElement.clientWidth",sl="document.documentElement.scrollLeft",st="document.documentElement.scrollTop",s=el[0].style;s.position="absolute";if(i<2){s.removeExpression("height");s.removeExpression("width");s.setExpression("height",""+bsh+" > "+bch+" ? "+bsh+" : "+bch+' + "px"');s.setExpression("width",""+bsw+" > "+bcw+" ? "+bsw+" : "+bcw+' + "px"')}else{var te,le;if(p&&p.constructor===Array){var top=p[0]?typeof p[0]==="number"?p[0].toString():p[0].replace(/px/,""):el.css("top").replace(/px/,"");te=top.indexOf("%")===-1?top+" + (t = "+st+" ? "+st+" : "+bst+') + "px"':parseInt(top.replace(/%/,""))+" * (("+ch+" || "+bch+") / 100) + (t = "+st+" ? "+st+" : "+bst+') + "px"';if(p[1]){var left=typeof p[1]==="number"?p[1].toString():p[1].replace(/px/,"");le=left.indexOf("%")===-1?left+" + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"':parseInt(left.replace(/%/,""))+" * (("+cw+" || "+bcw+") / 100) + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"'}}else{te="("+ch+" || "+bch+") / 2 - (this.offsetHeight / 2) + (t = "+st+" ? "+st+" : "+bst+') + "px"';le="("+cw+" || "+bcw+") / 2 - (this.offsetWidth / 2) + (t = "+sl+" ? "+sl+" : "+bsl+') + "px"'}s.removeExpression("top");s.removeExpression("left");s.setExpression("top",te);s.setExpression("left",le)}}})},focus:function(pos){var s=this,p=pos&&$.inArray(pos,["first","last"])!==-1?pos:"first";var input=$(":input:enabled:visible:"+p,s.d.wrap);setTimeout(function(){input.length>0?input.focus():s.d.wrap.focus()},10)},getDimensions:function(){var s=this,h=$.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<"1.3"||$.browser.opera&&$.browser.version<"9.5"&&$.fn.jquery>"1.2.6"?wndw[0].innerHeight:wndw.height();d=[doc.height(),doc.width()];w=[h,wndw.width()]},getVal:function(v,d){return v?typeof v==="number"?v:v==="auto"?0:v.indexOf("%")>0?parseInt(v.replace(/%/,""))/100*(d==="h"?w[0]:w[1]):parseInt(v.replace(/px/,"")):null},update:function(height,width){var s=this;if(!s.d.data){return false}s.d.origHeight=s.getVal(height,"h");s.d.origWidth=s.getVal(width,"w");s.d.data.hide();height&&s.d.container.css("height",height);width&&s.d.container.css("width",width);s.setContainerDimensions();s.d.data.show();s.o.focus&&s.focus();s.unbindEvents();s.bindEvents()},setContainerDimensions:function(){var s=this,badIE=ie6||ie7;var ch=s.d.origHeight?s.d.origHeight:$.browser.opera?s.d.container.height():s.getVal(badIE?s.d.container[0].currentStyle["height"]:s.d.container.css("height"),"h"),cw=s.d.origWidth?s.d.origWidth:$.browser.opera?s.d.container.width():s.getVal(badIE?s.d.container[0].currentStyle["width"]:s.d.container.css("width"),"w"),dh=s.d.data.outerHeight(true),dw=s.d.data.outerWidth(true);s.d.origHeight=s.d.origHeight||ch;s.d.origWidth=s.d.origWidth||cw;var mxoh=s.o.maxHeight?s.getVal(s.o.maxHeight,"h"):null,mxow=s.o.maxWidth?s.getVal(s.o.maxWidth,"w"):null,mh=mxoh&&mxoh<w[0]?mxoh:w[0],mw=mxow&&mxow<w[1]?mxow:w[1];var moh=s.o.minHeight?s.getVal(s.o.minHeight,"h"):"auto";if(!ch){if(!dh){ch=moh}else{if(dh>mh){ch=mh}else if(s.o.minHeight&&moh!=="auto"&&dh<moh){ch=moh}else{ch=dh}}}else{ch=s.o.autoResize&&ch>mh?mh:ch<moh?moh:ch}var mow=s.o.minWidth?s.getVal(s.o.minWidth,"w"):"auto";if(!cw){if(!dw){cw=mow}else{if(dw>mw){cw=mw}else if(s.o.minWidth&&mow!=="auto"&&dw<mow){cw=mow}else{cw=dw}}}else{cw=s.o.autoResize&&cw>mw?mw:cw<mow?mow:cw}s.d.container.css({height:ch,width:cw});s.d.wrap.css({overflow:dh>ch||dw>cw?"auto":"visible"});s.o.autoPosition&&s.setPosition()},setPosition:function(){var s=this,top,left,hc=w[0]/2-s.d.container.outerHeight(true)/2,vc=w[1]/2-s.d.container.outerWidth(true)/2,st=s.d.container.css("position")!=="fixed"?wndw.scrollTop():0;if(s.o.position&&Object.prototype.toString.call(s.o.position)==="[object Array]"){top=st+(s.o.position[0]||hc);left=s.o.position[1]||vc}else{top=st+hc;left=vc}s.d.container.css({left:left,top:top})},watchTab:function(e){var s=this;if($(e.target).parents(".simplemodal-container").length>0){s.inputs=$(":input:enabled:visible:first, :input:enabled:visible:last",s.d.data[0]);if(!e.shiftKey&&e.target===s.inputs[s.inputs.length-1]||e.shiftKey&&e.target===s.inputs[0]||s.inputs.length===0){e.preventDefault();var pos=e.shiftKey?"last":"first";s.focus(pos)}}else{e.preventDefault();s.focus()}},open:function(){var s=this;s.d.iframe&&s.d.iframe.show();if($.isFunction(s.o.onOpen)){s.o.onOpen.apply(s,[s.d])}else{s.d.overlay.show();s.d.container.show();s.d.data.show()}s.o.focus&&s.focus();s.bindEvents()},close:function(){var s=this;if(!s.d.data){return false}s.unbindEvents();if($.isFunction(s.o.onClose)&&!s.occb){s.occb=true;s.o.onClose.apply(s,[s.d])}else{if(s.d.placeholder){var ph=$("#simplemodal-placeholder");if(s.o.persist){ph.replaceWith(s.d.data.removeClass("simplemodal-data").css("display",s.display))}else{s.d.data.hide().remove();ph.replaceWith(s.d.orig)}}else{s.d.data.hide().remove()}s.d.container.hide().remove();s.d.overlay.hide();s.d.iframe&&s.d.iframe.hide().remove();s.d.overlay.remove();s.d={}}}}});(function(){var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var slice=ArrayProto.slice,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){return new wrapper(obj)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{root["_"]=_}_.VERSION="1.3.3";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}}else{for(var key in obj){if(_.has(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker)return}}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)});if(obj.length===+obj.length)results.length=obj.length;return results};_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else{memo=iterator.call(context,memo,value,index,list)}});if(!initial)throw new TypeError("Reduce of empty array with no initial value");return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var reversed=_.toArray(obj).reverse();if(context&&!initial)iterator=_.bind(iterator,context);return initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value});return results};_.reject=function(obj,iterator,context){var results=[];if(obj==null)return results;each(obj,function(value,index,list){if(!iterator.call(context,value,index,list))results[results.length]=value});return results};_.every=_.all=function(obj,iterator,context){var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker});return!!result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker});return!!result};_.include=_.contains=function(obj,target){var found=false;if(obj==null)return found;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;found=any(obj,function(value){return value===target});return found};_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||value:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})});return result.value};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function(obj){var shuffled=[],rand;each(obj,function(value,index,list){rand=Math.floor(Math.random()*(index+1));shuffled[index]=shuffled[rand];shuffled[rand]=value});return shuffled};_.sortBy=function(obj,val,context){var iterator=_.isFunction(val)?val:function(obj){return obj[val]};return _.pluck(_.map(obj,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a===void 0)return 1;if(b===void 0)return-1;return a<b?-1:a>b?1:0}),"value")};_.groupBy=function(obj,val){var result={};var iterator=_.isFunction(val)?val:function(obj){return obj[val]};each(obj,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)});return result};_.sortedIndex=function(array,obj,iterator){iterator||(iterator=_.identity);var low=0,high=array.length;while(low<high){var mid=low+high>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low};_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(_.isArguments(obj))return slice.call(obj);if(obj.toArray&&_.isFunction(obj.toArray))return obj.toArray();return _.values(obj)};_.size=function(obj){return _.isArray(obj)?obj.length:_.keys(obj).length};_.first=_.head=_.take=function(array,n,guard){return n!=null&&!guard?slice.call(array,0,n):array[0]};_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))};_.last=function(array,n,guard){if(n!=null&&!guard){return slice.call(array,Math.max(array.length-n,0))}else{return array[array.length-1]}};_.rest=_.tail=function(array,index,guard){return slice.call(array,index==null||guard?1:index)};_.compact=function(array){return _.filter(array,function(value){return!!value
})};_.flatten=function(array,shallow){return _.reduce(array,function(memo,value){if(_.isArray(value))return memo.concat(shallow?value:_.flatten(value));memo[memo.length]=value;return memo},[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array;var results=[];if(array.length<3)isSorted=true;_.reduce(initial,function(memo,value,index){if(isSorted?_.last(memo)!==value||!memo.length:!_.include(memo,value)){memo.push(value);results.push(array[index])}return memo},[]);return results};_.union=function(){return _.uniq(_.flatten(arguments,true))};_.intersection=_.intersect=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function(array){var rest=_.flatten(slice.call(arguments,1),true);return _.filter(array,function(value){return!_.include(rest,value)})};_.zip=function(){var args=slice.call(arguments);var length=_.max(_.pluck(args,"length"));var results=new Array(length);for(var i=0;i<length;i++)results[i]=_.pluck(args,""+i);return results};_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i,l;if(isSorted){i=_.sortedIndex(array,item);return array[i]===item?i:-1}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item);for(i=0,l=array.length;i<l;i++)if(i in array&&array[i]===item)return i;return-1};_.lastIndexOf=function(array,item){if(array==null)return-1;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return array.lastIndexOf(item);var i=array.length;while(i--)if(i in array&&array[i]===item)return i;return-1};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step}return range};var ctor=function(){};_.bind=function bind(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length==0)funcs=_.functions(obj);each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait){var context,args,timeout,throttling,more,result;var whenDone=_.debounce(function(){more=throttling=false},wait);return function(){context=this;args=arguments;var later=function(){timeout=null;if(more)func.apply(context,args);whenDone()};if(!timeout)timeout=setTimeout(later,wait);if(throttling){more=true}else{result=func.apply(context,args)}whenDone();throttling=true;return result}};_.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};if(immediate&&!timeout)func.apply(context,args);clearTimeout(timeout);timeout=setTimeout(later,wait)}};_.once=function(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;return memo=func.apply(this,arguments)}};_.wrap=function(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,args)}};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)]}return args[0]}};_.after=function(times,func){if(times<=0)return func();return function(){if(--times<1){return func.apply(this,arguments)}}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys};_.values=function(obj){return _.map(obj,_.identity)};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){obj[prop]=source[prop]}});return obj};_.pick=function(obj){var result={};each(_.flatten(slice.call(arguments,1)),function(key){if(key in obj)result[key]=obj[key]});return result};_.defaults=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){if(obj[prop]==null)obj[prop]=source[prop]}});return obj};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};function eq(a,b,stack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual&&_.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&_.isFunction(b.isEqual))return b.isEqual(a);var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;var length=stack.length;while(length--){if(stack[length]==a)return true}stack.push(a);var size=0,result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=size in a==size in b&&eq(a[size],b[size],stack)))break}}}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return false;for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],stack)))break}}if(result){for(key in b){if(_.has(b,key)&&!size--)break}result=!size}}stack.pop();return result}_.isEqual=function(a,b){return eq(a,b,[])};_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;return true};_.isElement=function(obj){return!!(obj&&obj.nodeType==1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function(obj){return obj===Object(obj)};_.isArguments=function(obj){return toString.call(obj)=="[object Arguments]"};if(!_.isArguments(arguments)){_.isArguments=function(obj){return!!(obj&&_.has(obj,"callee"))}}_.isFunction=function(obj){return toString.call(obj)=="[object Function]"};_.isString=function(obj){return toString.call(obj)=="[object String]"};_.isNumber=function(obj){return toString.call(obj)=="[object Number]"};_.isFinite=function(obj){return _.isNumber(obj)&&isFinite(obj)};_.isNaN=function(obj){return obj!==obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isDate=function(obj){return toString.call(obj)=="[object Date]"};_.isRegExp=function(obj){return toString.call(obj)=="[object RegExp]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.times=function(n,iterator,context){for(var i=0;i<n;i++)iterator.call(context,i)};_.escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function(prefix){var id=idCounter++;return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/.^/;var escapes={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var p in escapes)escapes[escapes[p]]=p;var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;var unescaper=/\\(\\|'|r|n|t|u2028|u2029)/g;var unescape=function(code){return code.replace(unescaper,function(match,escape){return escapes[escape]})};_.template=function(text,data,settings){settings=_.defaults(settings||{},_.templateSettings);var source="__p+='"+text.replace(escaper,function(match){return"\\"+escapes[match]}).replace(settings.escape||noMatch,function(match,code){return"'+\n_.escape("+unescape(code)+")+\n'"}).replace(settings.interpolate||noMatch,function(match,code){return"'+\n("+unescape(code)+")+\n'"}).replace(settings.evaluate||noMatch,function(match,code){return"';\n"+unescape(code)+"\n;__p+='"})+"';\n";if(!settings.variable)source="with(obj||{}){\n"+source+"}\n";source="var __p='';"+"var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+source+"return __p;\n";var render=new Function(settings.variable||"obj","_",source);if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function(obj){return _(obj).chain()};var wrapper=function(obj){this._wrapped=obj};_.prototype=wrapper.prototype;var result=function(obj,chain){return chain?_(obj).chain():obj};var addToWrapper=function(name,func){wrapper.prototype[name]=function(){var args=slice.call(arguments);unshift.call(args,this._wrapped);return result(func.apply(_,args),this._chain)}};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){var wrapped=this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;if((name=="shift"||name=="splice")&&length===0)delete wrapped[0];return result(wrapped,this._chain)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){return result(method.apply(this._wrapped,arguments),this._chain)}});wrapper.prototype.chain=function(){this._chain=true;return this};wrapper.prototype.value=function(){return this._wrapped}}).call(this);!function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype={constructor:Tab,show:function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.attr("data-target"),previous,$target,e;if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;previous=$ul.find(".active a").last()[0];e=$.Event("show",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;$target=$(selector);this.activate($this.parent("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown",relatedTarget:previous})})},activate:function(element,container,callback){var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu")){element.closest("li.dropdown").addClass("active")}callback&&callback()}transition?$active.one($.support.transition.end,next):next();$active.removeClass("in")}};$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("tab");if(!data)$this.data("tab",data=new Tab(this));if(typeof option=="string")data[option]()})};$.fn.tab.Constructor=Tab;$(function(){$("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();$(this).tab("show")})})}(window.jQuery);(function($){function Countdown(){this.regional=[];this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:false};this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};$.extend(this._defaults,this.regional[""]);this._serverSyncs=[];function timerCallBack(timestamp){var drawStart=timestamp||(new Date).getTime();if(drawStart-animationStartTime>=1e3){plugin._updateTargets();animationStartTime=drawStart}requestAnimationFrame(timerCallBack)}var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;var animationStartTime=0;if(!requestAnimationFrame||$.noRequestAnimationFrame){$.noRequestAnimationFrame=null;setInterval(function(){plugin._updateTargets()},980)}else{animationStartTime=window.mozAnimationStartTime||(new Date).getTime();requestAnimationFrame(timerCallBack)}}var Y=0;var O=1;var W=2;var D=3;var H=4;var M=5;var S=6;$.extend(Countdown.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(options){this._resetExtraLabels(this._defaults,options);$.extend(this._defaults,options||{})},UTCDate:function(tz,year,month,day,hours,mins,secs,ms){if(typeof year=="object"&&year.constructor==Date){ms=year.getMilliseconds();secs=year.getSeconds();mins=year.getMinutes();hours=year.getHours();day=year.getDate();month=year.getMonth();year=year.getFullYear()}var d=new Date;d.setUTCFullYear(year);d.setUTCDate(1);d.setUTCMonth(month||0);d.setUTCDate(day||1);d.setUTCHours(hours||0);d.setUTCMinutes((mins||0)-(Math.abs(tz)<30?tz*60:tz));d.setUTCSeconds(secs||0);d.setUTCMilliseconds(ms||0);return d},periodsToSeconds:function(periods){return periods[0]*31557600+periods[1]*2629800+periods[2]*604800+periods[3]*86400+periods[4]*3600+periods[5]*60+periods[6]},_attachPlugin:function(target,options){target=$(target);if(target.hasClass(this.markerClassName)){return}var inst={options:$.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};target.addClass(this.markerClassName).data(this.propertyName,inst);this._optionPlugin(target,options)},_addTarget:function(target){if(!this._hasTarget(target)){this._timerTargets.push(target)}},_hasTarget:function(target){return $.inArray(target,this._timerTargets)>-1},_removeTarget:function(target){this._timerTargets=$.map(this._timerTargets,function(value){return value==target?null:value})},_updateTargets:function(){for(var i=this._timerTargets.length-1;i>=0;i--){this._updateCountdown(this._timerTargets[i])}},_optionPlugin:function(target,options,value){target=$(target);var inst=target.data(this.propertyName);if(!options||typeof options=="string"&&value==null){var name=options;options=(inst||{}).options;return options&&name?options[name]:options}if(!target.hasClass(this.markerClassName)){return}options=options||{};if(typeof options=="string"){var name=options;options={};options[name]=value}this._resetExtraLabels(inst.options,options);$.extend(inst.options,options);this._adjustSettings(target,inst);var now=new Date;if(inst._since&&inst._since<now||inst._until&&inst._until>now){this._addTarget(target)}this._updateCountdown(target,inst)},_updateCountdown:function(target,inst){var $target=$(target);inst=inst||$target.data(this.propertyName);if(!inst){return}$target.html(this._generateHTML(inst)).toggleClass(this._rtlClass,inst.options.isRTL);if($.isFunction(inst.options.onTick)){var periods=inst._hold!="lap"?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date);if(inst.options.tickInterval==1||this.periodsToSeconds(periods)%inst.options.tickInterval==0){inst.options.onTick.apply(target,[periods])}}var expired=inst._hold!="pause"&&(inst._since?inst._now.getTime()<inst._since.getTime():inst._now.getTime()>=inst._until.getTime());if(expired&&!inst._expiring){inst._expiring=true;if(this._hasTarget(target)||inst.options.alwaysExpire){this._removeTarget(target);if($.isFunction(inst.options.onExpiry)){inst.options.onExpiry.apply(target,[])}if(inst.options.expiryText){var layout=inst.options.layout;inst.options.layout=inst.options.expiryText;this._updateCountdown(target,inst);inst.options.layout=layout}if(inst.options.expiryUrl){window.location=inst.options.expiryUrl}}inst._expiring=false}else if(inst._hold=="pause"){this._removeTarget(target)}$target.data(this.propertyName,inst)},_resetExtraLabels:function(base,options){var changingLabels=false;for(var n in options){if(n!="whichLabels"&&n.match(/[Ll]abels/)){changingLabels=true;break}}if(changingLabels){for(var n in base){if(n.match(/[Ll]abels[02-9]/)){base[n]=null}}}},_adjustSettings:function(target,inst){var now;var serverOffset=0;var serverEntry=null;for(var i=0;i<this._serverSyncs.length;i++){if(this._serverSyncs[i][0]==inst.options.serverSync){serverEntry=this._serverSyncs[i][1];break}}if(serverEntry!=null){serverOffset=inst.options.serverSync?serverEntry:0;now=new Date}else{var serverResult=$.isFunction(inst.options.serverSync)?inst.options.serverSync.apply(target,[]):null;now=new Date;serverOffset=serverResult?now.getTime()-serverResult.getTime():0;this._serverSyncs.push([inst.options.serverSync,serverOffset])}var timezone=inst.options.timezone;timezone=timezone==null?-now.getTimezoneOffset():timezone;inst._since=inst.options.since;if(inst._since!=null){inst._since=this.UTCDate(timezone,this._determineTime(inst._since,null));if(inst._since&&serverOffset){inst._since.setMilliseconds(inst._since.getMilliseconds()+serverOffset)}}inst._until=this.UTCDate(timezone,this._determineTime(inst.options.until,now));if(serverOffset){inst._until.setMilliseconds(inst._until.getMilliseconds()+serverOffset)}inst._show=this._determineShow(inst)},_destroyPlugin:function(target){target=$(target);if(!target.hasClass(this.markerClassName)){return}this._removeTarget(target[0]);target.removeClass(this.markerClassName).empty().removeData(this.propertyName)},_pausePlugin:function(target){this._hold(target,"pause")},_lapPlugin:function(target){this._hold(target,"lap")},_resumePlugin:function(target){this._hold(target,null)},_hold:function(target,hold){var inst=$.data(target,this.propertyName);if(inst){if(inst._hold=="pause"&&!hold){inst._periods=inst._savePeriods;var sign=inst._since?"-":"+";inst[inst._since?"_since":"_until"]=this._determineTime(sign+inst._periods[0]+"y"+sign+inst._periods[1]+"o"+sign+inst._periods[2]+"w"+sign+inst._periods[3]+"d"+sign+inst._periods[4]+"h"+sign+inst._periods[5]+"m"+sign+inst._periods[6]+"s");this._addTarget(target)}inst._hold=hold;inst._savePeriods=hold=="pause"?inst._periods:null;$.data(target,this.propertyName,inst);this._updateCountdown(target,inst)}},_getTimesPlugin:function(target){var inst=$.data(target,this.propertyName);return!inst?null:!inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date)},_determineTime:function(setting,defaultTime){var offsetNumeric=function(offset){var time=new Date;time.setTime(time.getTime()+offset*1e3);return time};var offsetString=function(offset){offset=offset.toLowerCase();var time=new Date;var year=time.getFullYear();var month=time.getMonth();var day=time.getDate();var hour=time.getHours();var minute=time.getMinutes();var second=time.getSeconds();var pattern=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"s"){case"s":second+=parseInt(matches[1],10);break;case"m":minute+=parseInt(matches[1],10);break;case"h":hour+=parseInt(matches[1],10);break;case"d":day+=parseInt(matches[1],10);break;case"w":day+=parseInt(matches[1],10)*7;break;case"o":month+=parseInt(matches[1],10);day=Math.min(day,plugin._getDaysInMonth(year,month));break;case"y":year+=parseInt(matches[1],10);day=Math.min(day,plugin._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day,hour,minute,second,0)};var time=setting==null?defaultTime:typeof setting=="string"?offsetString(setting):typeof setting=="number"?offsetNumeric(setting):setting;if(time)time.setMilliseconds(0);return time},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate()},_normalLabels:function(num){return num},_generateHTML:function(inst){var self=this;inst._periods=inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date);var shownNonZero=false;var showCount=0;var sigCount=inst.options.significant;var show=$.extend({},inst._show);for(var period=Y;period<=S;period++){shownNonZero|=inst._show[period]=="?"&&inst._periods[period]>0;show[period]=inst._show[period]=="?"&&!shownNonZero?null:inst._show[period];showCount+=show[period]?1:0;sigCount-=inst._periods[period]>0?1:0}var showSignificant=[false,false,false,false,false,false,false];for(var period=S;period>=Y;period--){if(inst._show[period]){if(inst._periods[period]){showSignificant[period]=true}else{showSignificant[period]=sigCount>0;sigCount--}}}var labels=inst.options.compact?inst.options.compactLabels:inst.options.labels;var whichLabels=inst.options.whichLabels||this._normalLabels;var showCompact=function(period){var labelsNum=inst.options["compactLabels"+whichLabels(inst._periods[period])];return show[period]?self._translateDigits(inst,inst._periods[period])+(labelsNum?labelsNum[period]:labels[period])+" ":""};var showFull=function(period){var labelsNum=inst.options["labels"+whichLabels(inst._periods[period])];return!inst.options.significant&&show[period]||inst.options.significant&&showSignificant[period]?'<span class="'+plugin._sectionClass+'">'+'<span class="'+plugin._amountClass+'">'+self._translateDigits(inst,inst._periods[period])+"</span><br/>"+(labelsNum?labelsNum[period]:labels[period])+"</span>":""};return inst.options.layout?this._buildLayout(inst,show,inst.options.layout,inst.options.compact,inst.options.significant,showSignificant):(inst.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(inst._hold?" "+this._holdingClass:"")+'">'+showCompact(Y)+showCompact(O)+showCompact(W)+showCompact(D)+(show[H]?this._minDigits(inst,inst._periods[H],2):"")+(show[M]?(show[H]?inst.options.timeSeparator:"")+this._minDigits(inst,inst._periods[M],2):"")+(show[S]?(show[H]||show[M]?inst.options.timeSeparator:"")+this._minDigits(inst,inst._periods[S],2):""):'<span class="'+this._rowClass+" "+this._showClass+(inst.options.significant||showCount)+(inst._hold?" "+this._holdingClass:"")+'">'+showFull(Y)+showFull(O)+showFull(W)+showFull(D)+showFull(H)+showFull(M)+showFull(S))+"</span>"+(inst.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+inst.options.description+"</span>":"")},_buildLayout:function(inst,show,layout,compact,significant,showSignificant){var labels=inst.options[compact?"compactLabels":"labels"];var whichLabels=inst.options.whichLabels||this._normalLabels;var labelFor=function(index){return(inst.options[(compact?"compactLabels":"labels")+whichLabels(inst._periods[index])]||labels)[index]};var digit=function(value,position){return inst.options.digits[Math.floor(value/position)%10]};var subs={desc:inst.options.description,sep:inst.options.timeSeparator,yl:labelFor(Y),yn:this._minDigits(inst,inst._periods[Y],1),ynn:this._minDigits(inst,inst._periods[Y],2),ynnn:this._minDigits(inst,inst._periods[Y],3),y1:digit(inst._periods[Y],1),y10:digit(inst._periods[Y],10),y100:digit(inst._periods[Y],100),y1000:digit(inst._periods[Y],1e3),ol:labelFor(O),on:this._minDigits(inst,inst._periods[O],1),onn:this._minDigits(inst,inst._periods[O],2),onnn:this._minDigits(inst,inst._periods[O],3),o1:digit(inst._periods[O],1),o10:digit(inst._periods[O],10),o100:digit(inst._periods[O],100),o1000:digit(inst._periods[O],1e3),wl:labelFor(W),wn:this._minDigits(inst,inst._periods[W],1),wnn:this._minDigits(inst,inst._periods[W],2),wnnn:this._minDigits(inst,inst._periods[W],3),w1:digit(inst._periods[W],1),w10:digit(inst._periods[W],10),w100:digit(inst._periods[W],100),w1000:digit(inst._periods[W],1e3),dl:labelFor(D),dn:this._minDigits(inst,inst._periods[D],1),dnn:this._minDigits(inst,inst._periods[D],2),dnnn:this._minDigits(inst,inst._periods[D],3),d1:digit(inst._periods[D],1),d10:digit(inst._periods[D],10),d100:digit(inst._periods[D],100),d1000:digit(inst._periods[D],1e3),hl:labelFor(H),hn:this._minDigits(inst,inst._periods[H],1),hnn:this._minDigits(inst,inst._periods[H],2),hnnn:this._minDigits(inst,inst._periods[H],3),h1:digit(inst._periods[H],1),h10:digit(inst._periods[H],10),h100:digit(inst._periods[H],100),h1000:digit(inst._periods[H],1e3),ml:labelFor(M),mn:this._minDigits(inst,inst._periods[M],1),mnn:this._minDigits(inst,inst._periods[M],2),mnnn:this._minDigits(inst,inst._periods[M],3),m1:digit(inst._periods[M],1),m10:digit(inst._periods[M],10),m100:digit(inst._periods[M],100),m1000:digit(inst._periods[M],1e3),sl:labelFor(S),sn:this._minDigits(inst,inst._periods[S],1),snn:this._minDigits(inst,inst._periods[S],2),snnn:this._minDigits(inst,inst._periods[S],3),s1:digit(inst._periods[S],1),s10:digit(inst._periods[S],10),s100:digit(inst._periods[S],100),s1000:digit(inst._periods[S],1e3)};var html=layout;for(var i=Y;i<=S;i++){var period="yowdhms".charAt(i);var re=new RegExp("\\{"+period+"<\\}(.*)\\{"+period+">\\}","g");html=html.replace(re,!significant&&show[i]||significant&&showSignificant[i]?"$1":"")}$.each(subs,function(n,v){var re=new RegExp("\\{"+n+"\\}","g");html=html.replace(re,v)});return html},_minDigits:function(inst,value,len){value=""+value;if(value.length>=len){return this._translateDigits(inst,value)}value="0000000000"+value;return this._translateDigits(inst,value.substr(value.length-len))},_translateDigits:function(inst,value){return(""+value).replace(/[0-9]/g,function(digit){return inst.options.digits[digit]})},_determineShow:function(inst){var format=inst.options.format;var show=[];show[Y]=format.match("y")?"?":format.match("Y")?"!":null;show[O]=format.match("o")?"?":format.match("O")?"!":null;show[W]=format.match("w")?"?":format.match("W")?"!":null;show[D]=format.match("d")?"?":format.match("D")?"!":null;show[H]=format.match("h")?"?":format.match("H")?"!":null;show[M]=format.match("m")?"?":format.match("M")?"!":null;show[S]=format.match("s")?"?":format.match("S")?"!":null;return show},_calculatePeriods:function(inst,show,significant,now){inst._now=now;inst._now.setMilliseconds(0);var until=new Date(inst._now.getTime());if(inst._since){if(now.getTime()<inst._since.getTime()){inst._now=now=until}else{now=inst._since}}else{until.setTime(inst._until.getTime());if(now.getTime()>inst._until.getTime()){inst._now=now=until}}var periods=[0,0,0,0,0,0,0];if(show[Y]||show[O]){var lastNow=plugin._getDaysInMonth(now.getFullYear(),now.getMonth());var lastUntil=plugin._getDaysInMonth(until.getFullYear(),until.getMonth());var sameDay=until.getDate()==now.getDate()||until.getDate()>=Math.min(lastNow,lastUntil)&&now.getDate()>=Math.min(lastNow,lastUntil);var getSecs=function(date){return(date.getHours()*60+date.getMinutes())*60+date.getSeconds()};var months=Math.max(0,(until.getFullYear()-now.getFullYear())*12+until.getMonth()-now.getMonth()+(until.getDate()<now.getDate()&&!sameDay||sameDay&&getSecs(until)<getSecs(now)?-1:0));periods[Y]=show[Y]?Math.floor(months/12):0;periods[O]=show[O]?months-periods[Y]*12:0;now=new Date(now.getTime());var wasLastDay=now.getDate()==lastNow;var lastDay=plugin._getDaysInMonth(now.getFullYear()+periods[Y],now.getMonth()+periods[O]);if(now.getDate()>lastDay){now.setDate(lastDay)}now.setFullYear(now.getFullYear()+periods[Y]);now.setMonth(now.getMonth()+periods[O]);if(wasLastDay){now.setDate(lastDay)}}var diff=Math.floor((until.getTime()-now.getTime())/1e3);var extractPeriod=function(period,numSecs){periods[period]=show[period]?Math.floor(diff/numSecs):0;diff-=periods[period]*numSecs};extractPeriod(W,604800);extractPeriod(D,86400);extractPeriod(H,3600);extractPeriod(M,60);extractPeriod(S,1);if(diff>0&&!inst._since){var multiplier=[1,12,4.3482,7,24,60,60];var lastShown=S;var max=1;for(var period=S;period>=Y;period--){if(show[period]){if(periods[lastShown]>=max){periods[lastShown]=0;diff=1}if(diff>0){periods[period]++;diff=0;lastShown=period;max=1}}max*=multiplier[period]}}if(significant){for(var period=Y;period<=S;period++){if(significant&&periods[period]){significant--}else if(!significant){periods[period]=0}}}return periods}});var getters=["getTimes"];function isNotChained(command,otherArgs){if(command=="option"&&(otherArgs.length==0||otherArgs.length==1&&typeof otherArgs[0]=="string")){return true}return $.inArray(command,getters)>-1}$.fn.countdown=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if(isNotChained(options,otherArgs)){return plugin["_"+options+"Plugin"].apply(plugin,[this[0]].concat(otherArgs))}return this.each(function(){if(typeof options=="string"){if(!plugin["_"+options+"Plugin"]){throw"Unknown command: "+options}plugin["_"+options+"Plugin"].apply(plugin,[this].concat(otherArgs))}else{plugin._attachPlugin(this,options||{})}})};var plugin=$.countdown=new Countdown})(jQuery);var CAF,grids;jQuery.fn.blockEllipsis=function(){return this.each(function(){var el,maxHeight,stripWord;el=$(this);maxHeight=el.innerHeight();el.css({height:"auto"});stripWord=function(index,text){return text.substring(0,text.lastIndexOf(" "))+"..."};while(el.outerHeight()>maxHeight){el.text(stripWord)}return el.height(maxHeight)})};if(typeof CAF==="undefined"||CAF===null){CAF={}}CAF.init={configureModals:function(){$.modal.defaults.overlayClose=true;$.modal.defaults.opacity=90;$.modal.defaults.onOpen=function(dialog){dialog.data.show();dialog.overlay.fadeIn(200);return dialog.container.fadeIn(200)};$.modal.defaults.onClose=function(dialog){dialog.overlay.fadeOut(200);dialog.container.fadeOut(100);return setTimeout(function(){return $.modal.close()},200)};return $("[data-modal]").on("click",function(event){event.preventDefault();return $($(this).data("modal")).modal()})},addCustomColorStyles:function(){var color,colorTemplate,customColors,leadingHash,styleNode,styleText,styles;customColors=[];leadingHash=/^#+/;colorTemplate=_.template("      .color-<%= color %> .custom-bg { background-color: #<%= color %> !important; }\n      .color-<%= color %> .custom-fg, .color-<%= color %> .custom-fg a { color: #<%= color %> !important; }\n      .color-<%= color %> .custom-fg-hover:hover, .color-<%= color %> .custom-fg-hover a:hover { color: #<%= color %> !important; }\n      .color-<%= color %> .custom-bg-hover:hover, .color-<%= color %> a:hover .custom-bg-hover { background-color: #<%= color %> !important; }\n");$("[data-color]").each(function(){var color,el;el=$(this);color=el.data("color").replace(leadingHash,"");customColors.push(color);return el.addClass("color-"+color)});styles=function(){var _i,_len,_ref,_results;_ref=_.uniq(customColors);_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){color=_ref[_i];_results.push(colorTemplate({color:color}))}return _results}();styleNode=document.createElement("style");styleNode.type="text/css";
styleText=styles.join("");if(styleNode.styleSheet){styleNode.styleSheet.cssText=styleText}else{$(styleNode).text(styleText)}return $("head").append(styleNode)},setupFooterQuotes:function(){var arrow,container,current,fadeDuration,index,interval,intervalDuration,itemCenter,list,quote,quoteText,rotate,select;container=$("#footer .quotes");quote=container.find(".quote");quoteText=quote.find("blockquote");arrow=quote.find(".arrow");list=container.find("li");index=0;current=null;interval=null;intervalDuration=4e3;fadeDuration=200;if(list.length===0){return false}itemCenter=function(item){var left;left=item.position().left+parseInt(item.css("margin-left"),10);return left+item.width()/2};select=function(item){current=item;quoteText.stop().fadeOut(fadeDuration,function(){return $(this).css("display","inline-block")});arrow.css({left:itemCenter(current)});quoteText.queue(function(){quoteText.text(current.find("q").text());return quoteText.dequeue()});return quoteText.fadeIn(fadeDuration)};select(list.eq(index));rotate=function(){index+=1;if(list.length<=index){index=0}return select(list.eq(index))};interval=setInterval(rotate,intervalDuration);list.on("click",function(event){event.preventDefault();select($(this));return clearInterval(interval)});return quote.on("click",function(){return window.open(current.find("a").attr("href"),"_blank")})},decorateForms:function(){return $("form").on("focusin focusout",function(event){return $(event.target).parent(".field").toggleClass("focus",event.type==="focusin")})}};CAF.withGraphs=function(fn){var dummy,getNext;if(CAF._graphsLoaded==null){dummy=$.Deferred();CAF._graphsLoaded=[dummy];getNext=function(){var s;s=CAF.graphsJS.shift();if(s){return CAF._graphsLoaded.push($.getScript(s,getNext))}else{return dummy.resolve()}};getNext()}return $.when.apply($,CAF._graphsLoaded).done(fn)};CAF.updateSiteLoginHeader=function(){$("div#top_messages:hidden").delay(500).slideDown();return Catchafire.dropdowns()};CAF.carousel=function(el,items,perPage){var controls;el=$(el);el.jcarousel({animation:300,list:".clip",items:items,wrap:"both"});controls=el.find(".controls");controls.find(".next").on("click",function(){return el.jcarousel("scroll","+="+perPage)});return controls.find(".prev").on("click",function(){return el.jcarousel("scroll","-="+perPage)})};CAF.showMessage=function(message,tag){if(tag==null){tag="no"}$("#top_messages").append("<div class='message'><a href=# class='simplemodal-close close-button' title=Close hidefocus=hidefocus></a><span class="+tag+"-icon></span><p class='message-content fix-float'>"+message+"</p></div>");return $(".message").each(function(){return $(this).delay(100).fadeIn(function(){message=$(this);$("a.close-button",this).click(function(){return message.remove()});return message.delay(5500).fadeOut("fast",function(){return message.remove()})})})};CAF.toggleSpinner=function(replacedSelector,spinnerSelector){$(replacedSelector).toggleClass("hide");return $(spinnerSelector).toggleClass("hide")};CAF.disableForm=function(form){form.addClass("disabled");return form.submit(function(){return false})};(function(){var messages;CAF.init.configureModals();CAF.init.addCustomColorStyles();CAF.init.decorateForms();$(".ellipsis").blockEllipsis();if(parseFloat($.fn.jquery)<1.8){$(document).on("shown",'a[data-toggle="tab"]',function(event){return $($(event.target).data("target")).find(".ellipsis").removeAttr("style").blockEllipsis()})}$("[data-href]").on("click",function(){return location.href=$(this).data("href")});messages=$(".messages");messages.delay(1e4).fadeOut(200);messages.find(".close").on("click",function(){return messages.stop().fadeOut(200)});return $(".message .close").on("click",function(){return $(this).parent(".message").stop().fadeOut(200)})})();jQuery(function(){$(window).load(function(){return CAF.updateSiteLoginHeader()});return $("form#newsletter").on("submit",function(e){var data,form;e.preventDefault();form=$(this);form.addClass("disabled");data=form.find("input").serialize();return $.post("/newsletter/signup",data,function(data){return form.html(data).removeClass("disabled")})})});grids=$("[data-columns]");Array.prototype.forEach.call(grids,function(grid){var columnClass,columns,elements,i,itemClass;columns=grid.dataset.columns;columnClass="col";itemClass="col-item";elements=[];i=columns-1;while(i>=0){elements.push(grid.querySelectorAll("."+itemClass+":nth-child("+columns+"n-"+i+")"));--i}return elements.forEach(function(columnElements){var column;column=document.createElement("div");column.classList.add(columnClass);Array.prototype.forEach.call(columnElements,function(element){return column.appendChild(element)});return grid.appendChild(column)})});CAF.disableForm=function(form){form.addClass("disabled");$(document).off("submit","form.js-disable-on-submit");setTimeout(function(){return form.submit()},0);return false};jQuery(function(){$("form.js-disable-on-submit :submit,    form.js-disable-on-submit button[type='submit']").click(function(){var form,html,name,value;form=$($(this).parents("form")[0]);name=$(this).attr("name");value=$(this).val();if(value==null){value=$(this).attr("value")}html="<input type='hidden' name='"+name+"' value='"+value+"'/>";return form.append(html)});$(document).on("submit","form.js-disable-on-submit",function(){return CAF.disableForm($(this))});return $(document).on("click",".close-modal",function(event){$.modal.close();return false})});